<!-- Wick - (c) 2016 Zach Rispoli, Luca Damasco, and Josh Rispoli -->

<!DOCTYPE html>
<html>

<head>
    <title>Wick Editor</title>

    <link rel="stylesheet" type="text/css" href="editor.css">

    <script src="lib/jquery.min.js"></script>
    <script src="lib/fabric/fabric.js"></script>
    <script src="lib/fabric/fabric.canvasex.js"></script>
    <script src="lib/potrace.js"></script>
    <script src="lib/paper/paper-full.js"></script>
    <script src="lib/verboselog.js"></script>
    <script src="lib/beautify.js"></script>
    <script src="lib/ace/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/FileSaver.min.js"></script>
    <script src="lib/fpscounter.js"></script>
    <script src="lib/browserdetection.js"></script>
    <script src="lib/base64-arraybuffer.js"></script>
    <script src="lib/libgif.js"></script>
    <script src="lib/pixi.min.js"></script>
    <script src="lib/filedownloader.js"></script>

    <script src="src/project/wickframe.js"></script>
    <script src="src/project/wickobject.js"></script>
    <script src="src/project/wickproject.js"></script>
    <script src="src/project/wicktweenobject.js"></script>

    <script src="src/editor/wickpapercanvas.js"></script>
    <script src="src/editor/wickfabriccanvas.js"></script>
    <script src="src/editor/wickhtmlguihandler.js"></script>
    <script src="src/editor/wickactions.js"></script>
    <script src="src/editor/wickeditor.js"></script>

    <script src="src/player/wickplayer.js"></script>

    <script>
        $(document).ready(function() { 
            var wickEditor = new WickEditor();
        });
    </script>
</head>

<body>

<!-- Hidden element to always be selected so browser always fires copy/paste events -->

    <input id="hidden-input" class="hidden" type="text" value="" />

<!-- Hidden paper.js canvas, we don't render it on the webpage, we handle that through the fabric.js canvas -->
    
    <canvas id="paperCanvas" resize style="background:white"></canvas>

<!-- Editor GUI, visible when a project is being edited & not running -->

    <div id="editor">
        <div tabindex="1" id="editorCanvasContainer">
            <canvas id="editorCanvas"></canvas>
        </div>

    <!-- Main menu GUI, top left corner -->

        <div id="menuBarGUI" class="GUIBox">
            <strong>Wick Editor</strong><br />

            <hr />
            <div class="button buttonInRow tooltipElem" id="newProjectButton" alt="New Project">
                <img src="resources/trashcan.png" width="30" />
            </div>  
            <div class="button buttonInRow tooltipElem" id="openProjectButton" alt="Open Project">
                <img src="resources/open-folder.png" width="30" />
            </div>
            <div class="button buttonInRow tooltipElem" id="exportJSONButton" alt="Export Project (JSON)">
                <img src="resources/save.png" width="30" />
            </div>
            <div class="button buttonInRow tooltipElem" id="exportHTMLButton" alt="Export Project (Webpage)">
                <img src="resources/export.png" width="30" />
            </div>
            <div class="button buttonInRow tooltipElem" id="runButton" alt="Run Project">
                <img src="resources/play.png" width="30" />
            </div>

            <!-- Hidden, gets clicked automatically by openProjectButton -->
            <input type="file" class="hidden" id="importButton" /> 
        </div>

    <!-- Timeline GUI, centered at the top of the screen -->

        <div id="timelineGUI" class="GUIBox">
            <div class="button buttonInRow" id="addEmptyFrameButton">
                <img src="resources/ic_add_black.png" width="10" />
            </div>
            <div class="button buttonInRow" id="shrinkFrameButton">
                <img src="resources/ic_keyboard_arrow_left.png" width="10" />
            </div>
            <div class="button buttonInRow" id="extendFrameButton">
                <img src="resources/ic_keyboard_arrow_right.png" width="10" />
            </div>
            <div id="timelineScrollContainer">
                <div id="timeline">
                    <!-- Populated with 'timelineFrame' divs by editor. -->
                </div>
            </div>
        </div>

    <!-- Toolbar GUI, centered at the left side of the screen -->

        <div id="toolbarGUI" class="GUIBox">
            <div class="button tooltipElem" id="mouseToolButton" alt="Cursor">
                <img src="resources/cursor.png" width="30"></img>
            </div>
            <hr />

            <div class="button tooltipElem" id="paintbrushToolButton" alt="Paintbrush">
                <img src="resources/paintbrush.png" width="30"></img>
            </div>
            <div id="toolOptions">
                Line Width: <input type="range" value="8" min="0" max="150" id="lineWidth"><br />
                Line Color: <input type="color" value="#b060b0" id="lineColor">
            </div>
            <hr />

            <div class="button tooltipElem" id="textToolButton" alt="Text">
                <img src="resources/text.png" width="30"></img>
            </div>
            <!-- <hr />

            <div class="button tooltipElem" id="htmlSnippetToolButton" alt="HTML Snippet">
                <img src="resources/htmlsnippet.png" width="30"></img>
            </div> -->

        </div>

    <!-- WickObject Scripting GUI, bottom left corner -->

        <div id="scriptingGUI" class="GUIBox">
            <div class="elemInRow">
                <div class="button buttonInRow" id="onLoadButton">onLoad</div>
                <div class="button buttonInRow" id="onClickButton">onClick</div>
                <div class="button buttonInRow" id="onUpdateButton">onUpdate</div>
                <div class="button buttonInRow" id="onKeyDownButton">onKeyDown</div>
                <div class="button buttonInRow" id="beautifyButton"><font color="orange">Beautify</font></div>
                <div class="button buttonInRow" id="closeScriptingGUIButton"><font color="red">Close</font></div>
                <br />
                <div id="scriptEditor"></div>
            </div>
            <div class="elemInRow">
                <u>Script References</u>
                <div class="button" draggable=true id="refBtnPlay">play</div>
                <div class="button" draggable=true id="refBtnStop">stop</div>
                <div class="button" draggable=true id="refBtnGotoAndStop">gotoAndStop</div>
                <div class="button" draggable=true id="refBtnGotoAndPlay">gotoAndPlay</div>
                <div class="button" draggable=true id="refBtnGotoNextFrame">gotoNextFrame</div>
                <div class="button" draggable=true id="refBtnGotoPrevFrame">gotoPrevFrame</div>
            </div>
        </div>

    <!-- Properties GUI, bottom right corner -->

        <div id="propertiesGUI" class="GUIBox">
            <div id="projectProperties">
                Project Properties
                <hr />
                Background color: <input type="color" value="#FFFFFF" id="projectBgColor"><br />
                Size: <input type="text" id="projectSizeX" maxlength="4" size="4"> x 
                      <input type="text" id="projectSizeY" maxlength="4" size="4"><br />
                Framerate: <input type="text" id="frameRate" maxlength="2" size="2"><br />
                <hr />
                <input type="checkbox" id="fitScreenCheckbox"> Fit to Screen Size<br />
                <input type="checkbox" id="drawBordersCheckbox"> Draw Borders<br />
                <hr />
                <div id="frameProperties">
                Frame Properties
                    <hr />
                    Identifier: <input type="text" id="frameIdentifier" maxlength="16" size="16">
                </div>
            </div>

            <div id="objectProperties">
                Object Properties
                <hr />
                x: <input type="text" id="objectPositionX" maxlength="4" size="4">
                y: <input type="text" id="objectPositionY" maxlength="4" size="4">
                <br />
                Opacity: <input type="range" value="255" min="0" max="255" id="opacitySlider">
                <br />
                Name: <input type="text" id="objectName" size="15"><br />
                <div id="textProperties">
                    <br />
                    Text Properties
                    <hr />
                    Font: <select id="fontSelector">
                        <option value="Georgia">Georgia</option>
                        <option value="Palatino Linotype">Palatino Linotype</option>
                        <option value="Book Antiqua">Book Antiqua</option>
                        <option value="Times New Roman">Times New Roman</option>
                        <option value="Arial" selected>Arial</option>
                        <option value="Helvetica">Helvetica</option>
                        <option value="Arial Black">Arial Black</option>
                        <option value="Comic Sans MS">Comic Sans MS</option>
                        <option value="Impact">Impact</option>
                        <option value="Lucida Sans Unicode">Lucida Sans Unicode</option>
                        <option value="Tahoma">Tahoma</option>
                        <option value="Geneva">Geneva</option>
                        <option value="Trebuchet MS">Trebuchet MS</option>
                        <option value="Verdana">Verdana</option>
                        <option value="Courier New">Courier New</option>
                        <option value="Lucida Console">Lucida Console</option>
                    </select><br />
                    Color: <input type="color" value="#FFFFFF" id="fontColor"><br />
                    Size: <input type="range" value="40" min="2" max="150" id="fontSize"><br />
                    <input type="checkbox" id="boldCheckbox"> Bold
                    <input type="checkbox" id="italicCheckbox"> Italic
                    <input type="checkbox" id="underlinedCheckbox"> Underlined<br />
                </div>
                <div id="soundProperties">
                    <br />
                    Sound Properties
                    <hr />
                    <input type="checkbox" id="autoplayCheckbox"> Autoplay<br />
                    <input type="checkbox" id="loopCheckbox"> Loop<br />
                </div>
                <div id="htmlSnippetProperties">
                    <br />
                    HTML Snippet Properties
                    <hr />
                    HTML: <textarea id="htmlTextBox"></textarea><br />
                </div>
            </div>
        </div>

    <!-- Right click menu, appears next to mouse on right click -->

        <div id="rightClickMenu" class="GUIBox">
            <div id="symbolButtons">
                <div class="button" id="editObjectButton">Edit Object</div>
            </div>
            <div id="commonObjectButtons">
                <div class="button" id="editScriptsButton">Edit Scripts</div>
                <hr />
                <div class="button" id="bringToFrontButton">Bring to Front</div>
                <div class="button" id="sendToBackButton">Send to Back</div>
                <div class="button" id="deleteButton">Delete</div>
                <hr />
                <div class="button" id="downloadButton">Download</div>
                <hr />
            </div>
            <div id="staticObjectButtons">
                <div class="button" id="convertToSymbolButton">Convert to Symbol</div>
            </div>
            <div id="insideSymbolButtons">
                <div class="button" id="finishEditingObjectButton">Finish Editing Object</div>
            </div>
        </div>

<!-- Tooltips -->

        <div id="tooltipGUI" class="GUIBox tooltip"></div>

<!-- Popups -->

        <div id="popupGUI" class="GUIBox"></div>

    </div>

<!-- Builtin player, visible when a project is running -->

    <div id="builtinPlayer">
        <div id="playerCanvasContainer"></div>

        <div id="builtinPlayerGUI" class="GUIBox">
            <strong>Builtin Player</strong><br />
            <hr />
            <div class="button" id="closeBuiltinPlayerButton">Close Player</div>
        </div>
    </div>

</body>

</html>
