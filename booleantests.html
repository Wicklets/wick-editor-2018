<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="lib/paper/paper-full.js"></script>
    <script type="text/javascript">
    window.onload = function () {
        var canvas = document.getElementById('myCanvas');
        paper.setup(canvas);

        var path1 = paper.project.importSVG(document.getElementById('path1')).removeChildren(0, 1)[0];
        var path2 = paper.project.importSVG(document.getElementById('path2')).removeChildren(0, 1)[0];
        var path3 = paper.project.importSVG(document.getElementById('path3')).removeChildren(0, 1)[0];
        var path4 = paper.project.importSVG(document.getElementById('path4')).removeChildren(0, 1)[0];

        var pathEX = paper.project.importSVG(document.getElementById('path3')).removeChildren(0, 1)[0];
        pathEX.translate([50,0]);

        console.log(path1)
        console.log(path2)
        console.log(path3)
        console.log(path4)

        var united = path2.unite(path1);
        united.strokeColor = 'black';
        united.fillColor = 'yellow';
        paper.project.activeLayer.addChild(united)
        paper.view.draw();

        var united2 = pathEX.unite(path3);
        united2.strokeColor = 'black';
        united2.fillColor = 'yellow';
        paper.project.activeLayer.addChild(united2)
        paper.view.draw();
    };
    </script>
</head>
<body>
<canvas id="myCanvas" width="1000" height = "1000"></canvas>

<!-- These give the expected result -->


<svg id="pathEX" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <circle cx="50" cy="50" r="49"/>
  <circle cx="50" cy="50" r="44" stroke="#FFF" stroke-width="5"/>
  <path d="M71,27a7,7 0,0,1 7-7c7,0,9,14,7,21l-16,48h-5l-13-36l-13,36h-5l-21-59h12l15,45l10-28l-6-17h12l15,45l8-24c2-12-8-18-7-25" fill="#FFF"/>
  <path d="M11,29h18 M38,29h22" stroke-width="3" stroke="#FFF" stroke-linecap="round"/>
</svg>

<svg id="path1" xmlns:svg="http://www.w3.org/2000/svg"
     xmlns="http://www.w3.org/2000/svg"
     version="1.0">
    <polygon points="486,88.5713 10,10 486,112.42089" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="sans-serif" font-weight="normal" font-size="12" text-anchor="start" mix-blend-mode="normal"></polygon>
</svg>

<svg id="path2" xmlns:svg="http://www.w3.org/2000/svg"
     xmlns="http://www.w3.org/2000/svg"
     version="1.0">
    <path x="0" y="0" d="M373.19331,121.80669L486,156.53349L486,180.38308L379.48903,142.25773L391.72796,182.01471L486,224.49569L486,248.34528L398.6888,204.62635L412.25607,248.69831L486,292.45788L486,316.30747L419.9933,273.83196L485,485L406.24644,264.98581L377.52981,246.50657L485,485L299.0168,195.9832L10,10L248.49343,117.47019L230.01419,88.75356L10,10L221.16804,75.0067L178.69253,9L202.54212,9L246.30169,82.74393L290.37365,96.3112L246.65472,9L270.50431,9L312.98529,103.27204L352.74227,115.51097L314.61692,9L338.46651,9z M485,485L359.89947,235.16139L322.44322,211.05818z M397.22332,239.7779L381.57322,196.05614L346.99323,178.74106L366.20293,221.37043z M373.62755,173.85828L359.79257,135.20743L321.14172,121.37245L337.44593,157.55407z M10,10L283.94182,172.55678L259.83861,135.10053z M347.41006,210.21876L326.51361,168.48639L284.78124,147.58994L308.10489,186.89511z M298.94386,113.42678L255.2221,97.77668L273.62957,128.79707L316.25894,148.00677z"></path>
</svg>


<!-- These crash paper.js! -->
<svg id="path3" xmlns:svg="http://www.w3.org/2000/svg" 
     xmlns="http://www.w3.org/2000/svg"
     version="1.1">
    <path x="0" y="0"  d="M136.628 1.283 C 133.728 3.403,131.039 20.149,130.010 42.500 C 129.019 64.042,127.567 73.066,123.427 83.406 C 120.200 91.468,116.782 94.567,110.108 95.485 C 101.648 96.649,94.756 94.586,89.027 89.177 C 83.508 83.966,73.809 68.118,63.520 47.500 C 56.661 33.754,37.938 7.153,32.715 3.732 C 29.460 1.600,22.431 0.509,17.688 1.399 C 12.991 2.280,9.348 6.154,5.366 14.500 C 0.932 23.793,0.039 32.830,0.017 68.628 C -0.001 99.132,0.142 99.934,5.400 98.614 L 7.827 98.005 8.211 62.253 C 8.580 27.861,8.682 26.280,10.875 20.734 C 14.277 12.133,17.288 9.000,22.155 9.000 C 24.342 9.000,26.957 9.442,27.966 9.982 C 29.983 11.061,46.850 33.547,51.609 41.500 C 53.255 44.250,55.649 48.975,56.929 52.000 C 58.210 55.025,63.680 64.962,69.085 74.082 C 83.607 98.587,89.119 102.938,105.685 102.978 C 110.737 102.990,116.137 102.521,117.685 101.936 C 123.999 99.551,128.966 92.356,132.891 79.914 C 136.035 69.943,136.963 62.860,137.936 41.399 C 138.943 19.181,141.059 7.000,143.912 7.000 C 147.473 7.000,156.127 12.360,160.716 17.408 C 166.310 23.562,173.083 35.443,179.010 49.500 C 181.329 55.000,185.893 65.683,189.153 73.240 C 192.413 80.796,196.688 91.968,198.654 98.066 C 200.619 104.164,203.204 110.288,204.397 111.675 C 207.571 115.365,214.112 115.843,220.000 112.815 C 228.791 108.293,233.773 96.756,239.137 68.500 C 242.092 52.934,249.752 26.049,251.240 26.016 C 253.268 25.972,259.500 36.874,263.957 48.263 C 269.195 61.649,270.320 65.339,274.009 81.254 C 275.947 89.612,277.074 92.183,281.885 99.228 C 284.973 103.749,289.043 108.481,290.929 109.745 C 294.248 111.968,294.971 112.033,313.429 111.771 L 332.500 111.500 332.500 108.500 L 332.500 105.500 314.352 105.000 C 293.608 104.428,294.771 104.892,287.994 94.490 C 284.078 88.481,282.685 84.389,278.591 66.881 C 276.295 57.059,267.427 34.971,263.082 28.248 C 260.991 25.012,258.031 21.383,256.505 20.183 C 253.412 17.750,246.893 17.211,245.219 19.250 C 242.949 22.016,234.901 48.855,232.999 60.005 C 227.456 92.492,220.664 107.798,212.229 106.811 C 209.800 106.527,209.307 105.645,206.462 96.500 C 201.156 79.448,182.392 36.368,174.043 22.074 C 166.239 8.711,154.304 0.000,143.801 0.000 C 140.821 0.000,137.593 0.577,136.628 1.283 "/>
</svg>

<svg id="path4" xmlns:svg="http://www.w3.org/2000/svg" 
     xmlns="http://www.w3.org/2000/svg"
     version="1.1">
    <path  x="0" y="0" d="M92.661 3.854 C 83.564 8.561,79.406 9.549,77.348 7.491 C 73.429 3.572,67.909 7.065,53.441 22.614 C 33.091 44.485,24.741 55.717,15.497 73.656 C 6.364 91.381,0.796 116.197,0.612 140.000 C 0.470 158.355,2.292 165.042,10.498 176.278 C 19.177 188.162,27.424 193.331,43.736 197.112 C 54.466 199.599,95.965 200.939,107.500 199.171 C 120.899 197.117,146.146 182.081,154.997 170.884 C 163.320 160.355,166.490 150.323,168.106 129.397 C 169.663 109.237,168.760 63.173,166.668 56.000 C 162.892 43.058,147.988 19.498,140.452 14.561 C 138.923 13.559,135.801 11.014,133.514 8.906 C 126.439 2.385,120.006 0.021,109.304 0.010 C 100.579 0.001,99.726 0.198,92.661 3.854 M121.750 10.278 C 133.279 16.305,150.311 36.130,156.307 50.500 C 160.342 60.172,161.000 66.559,161.000 96.078 C 161.000 155.204,157.282 164.765,127.289 182.778 C 112.365 191.741,109.484 192.273,78.751 191.736 C 56.235 191.342,51.325 190.974,44.244 189.152 C 32.710 186.184,27.257 183.125,20.512 175.840 C 10.332 164.844,7.370 155.139,8.353 136.000 C 9.416 115.313,13.698 96.070,20.480 81.500 C 28.745 63.746,35.593 54.097,55.697 31.877 L 68.927 17.255 77.214 16.785 C 85.344 16.325,86.940 15.816,97.000 10.473 C 103.293 7.130,115.544 7.034,121.750 10.278 " />
</svg>


</body>
</html>